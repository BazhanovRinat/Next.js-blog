(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[142],{9919:function(e,t,s){Promise.resolve().then(s.bind(s,1965))},2043:function(e,t,s){"use strict";var n=s(8843);s.o(n,"usePathname")&&s.d(t,{usePathname:function(){return n.usePathname}}),s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}})},1965:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var n=s(2192),a=s(8613),r=s(8382),o=s(2043),u=s(7157),l=s.n(u);function i(){let e=(0,o.useRouter)(),[t,s]=(0,a.useState)(!1),u=async(t,n)=>{s(!0);try{let s=await fetch("/api/users");if(!s.ok)throw Error("Network response was not ok");let a=await s.json();if(!Array.isArray(a)||0===a.length)throw Error("Users data is empty or not an array");a.find(e=>e.username===t&&e.password===n)?e.push("/"):console.log("Неправильный логин или пароль")}catch(e){console.log("Проблема с данными")}finally{s(!1)}};return(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:l().title,children:"Авторизация"}),(0,n.jsx)(r.Z,{formSubmit:u}),t&&(0,n.jsx)("p",{children:"Загрузка..."})]})}},8382:function(e,t,s){"use strict";var n=s(2192),a=s(8613),r=s(8795),o=s.n(r);t.Z=e=>{let{formSubmit:t}=e,[s,r]=(0,a.useState)(""),[u,l]=(0,a.useState)(""),i=async e=>{e.preventDefault(),console.log("Username:",s),console.log("Password:",u),t(s,u)};return(0,n.jsxs)("form",{className:o().form,onSubmit:i,children:[(0,n.jsx)("label",{className:o().lable,htmlFor:"username",children:"Логин:"}),(0,n.jsx)("input",{className:o().input,type:"text",id:"username",value:s,onChange:e=>r(e.target.value)}),(0,n.jsx)("span",{}),(0,n.jsx)("label",{className:o().lable,htmlFor:"password",children:"Пароль:"}),(0,n.jsx)("input",{className:o().input,type:"password",id:"password",value:u,onChange:e=>l(e.target.value)}),(0,n.jsx)("span",{}),(0,n.jsx)("button",{className:o().submitButton,type:"submit",children:"Подтвердить"})]})}},7157:function(e){e.exports={title:"authorization_title__EefdC"}},8795:function(e){e.exports={form:"userDataForm_form__v86JL",lable:"userDataForm_lable__Rxw35",input:"userDataForm_input__BhgML",submitButton:"userDataForm_submitButton__djgw_"}}},function(e){e.O(0,[468,545,779,744],function(){return e(e.s=9919)}),_N_E=e.O()}]);